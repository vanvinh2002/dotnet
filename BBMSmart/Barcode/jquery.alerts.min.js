!function(s){s.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:!0,overlayOpacity:.4,overlayColor:"#000",draggable:!0,okButton:"&nbsp;Đồng ý&nbsp;",cancelButton:"&nbsp;Hủy bỏ&nbsp;",dialogClass:null,alert:function(p,o,t){null==o&&(o="Alert"),s.alerts._show(o,p,null,"alert",function(p){t&&t(p)})},confirm:function(p,o,t){null==o&&(o="Confirm"),s.alerts._show(o,p,null,"confirm",function(p){t&&t(p)})},prompt:function(p,o,t,e){null==t&&(t="Prompt"),s.alerts._show(t,p,o,"prompt",function(p){e&&e(p)})},manual:function(p,o,t,e,n){null==o&&(o="Notify"),s.alerts._show(o,p,null,"manual",function(p){t&&t(p)},e,n)},_show:function(p,o,t,e,n,i,u){s.alerts._hide(),s.alerts._overlay("show"),s("BODY").append('<div id="popup_container"><div class="title_popup"><h2 id="popup_title"></h2></div><div id="popup_content"><div id="popup_message"></div></div></div>'),s.alerts.dialogClass&&s("#popup_container").addClass(s.alerts.dialogClass);var a=s.browser&&parseInt(s.browser.version)<=6?"absolute":"fixed";switch(s("#popup_container").css({position:a,zIndex:99999}),s("#popup_title").text(p),s("#popup_content").addClass(e),null!=i?(s.alerts.okButton="&nbsp;Có&nbsp;",s.alerts.cancelButton="&nbsp;Không&nbsp;",o+=i):(s.alerts.okButton="&nbsp;Đồng ý&nbsp;",s.alerts.cancelButton="&nbsp;Hủy bỏ&nbsp;"),s("#popup_message").text(o),s("#popup_message").html(s("#popup_message").text().replace(/\n/g,"<br />")),s.alerts._reposition(),s.alerts._maintainPosition(!0),e){case"alert":s("#popup_message").after('<div id="popup_panel"><input type="button" class="button_popup button_custom" value="'+s.alerts.okButton+'" id="popup_ok" /></div>'),s("#popup_ok").click(function(){s.alerts._hide(),n(!0)}),s("#popup_ok").focus().keypress(function(p){13===p.keyCode&&s("#popup_ok").trigger("click")}),s(document).on("keydown",function(p){27===p.keyCode&&s("#popup_ok").trigger("click")});break;case"confirm":s("#popup_message").after('<div id="popup_panel"><input type="button" class="button_popup button_custom" value="'+s.alerts.okButton+'" id="popup_ok" /> <input type="button" class="button_popup button_custom" value="'+s.alerts.cancelButton+'" id="popup_cancel" /></div>'),s("#popup_ok").click(function(){s.alerts._hide(),n&&n(!0)}),s("#popup_cancel").click(function(){s.alerts._hide(),n&&n(!1)}),s("#popup_ok").focus(),s("#popup_ok").keypress(function(p){13===p.keyCode&&s("#popup_ok").trigger("click")}),s("#popup_cancel").keypress(function(p){13===p.keyCode&&s("#popup_cancel").trigger("click")}),s(document).on("keydown",function(p){27===p.keyCode&&s("#popup_cancel").trigger("click")});break;case"prompt":s("#popup_message").append('<br /><input type="text" size="30" id="popup_prompt" />').after('<div id="popup_panel"><input type="button" class="button_popup button_custom" value="'+s.alerts.okButton+'" id="popup_ok" /> <input type="button" class="button_popup button_custom" value="'+s.alerts.cancelButton+'" id="popup_cancel" /></div>'),s("#popup_prompt").width(s("#popup_message").width()),s("#popup_ok").click(function(){var p=s("#popup_prompt").val();s.alerts._hide(),n&&n(p)}),s("#popup_cancel").click(function(){s.alerts._hide(),n&&n(null)}),s("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(p){13===p.keyCode&&s("#popup_ok").trigger("click"),27===p.keyCode&&s("#popup_cancel").trigger("click")}),t&&s("#popup_prompt").val(t),s("#popup_prompt").focus().select(),s(document).on("keydown",function(p){27===p.keyCode&&s("#popup_cancel").trigger("click")});break;case"manual":s("#popup_message").after('<div id="popup_panel"><input type="button" class="button_popup button_custom" value="'+s.alerts.okButton+'" id="popup_ok" /> <input type="button" class="button_popup button_custom" value="'+s.alerts.cancelButton+'" id="popup_cancel" /></div>'),s("#popup_ok").click(function(){s.alerts._hide(),n&&n(!0)}),s("#popup_cancel").click(function(){s.alerts._hide(),n&&n(!1)}),null!=u?s("#"+u).focus():s("#popup_ok").focus(),s("#popup_ok").keypress(function(p){13===p.keyCode&&s("#popup_ok").trigger("click")}),s("#popup_cancel").keypress(function(p){13===p.keyCode&&s("#popup_cancel").trigger("click")}),s(document).on("keydown",function(p){27===p.keyCode&&s("#popup_cancel").trigger("click")})}if(s.alerts.draggable)try{s("#popup_container").draggable({handle:s("#popup_title")}),s("#popup_title").css({cursor:"move"})}catch(p){}},_hide:function(){s("#popup_container").remove(),s.alerts._overlay("hide"),s.alerts._maintainPosition(!1)},_overlay:function(p){switch(p){case"show":s.alerts._overlay("hide"),s("BODY").append('<div id="popup_overlay"></div>'),s("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:s(document).height(),background:s.alerts.overlayColor,opacity:s.alerts.overlayOpacity});break;case"hide":s("#popup_overlay").remove()}},_reposition:function(){var p=s(window).height()/2-s("#popup_container").outerHeight(!1)/2+s.alerts.verticalOffset,o=s(window).width()/2-s("#popup_container").outerWidth(!1)/2+s.alerts.horizontalOffset;p<0&&(p=0),o<0&&(o=0),s.browser&&parseInt(s.browser.version)<=6&&(p+=s(window).scrollTop()),s("#popup_container").css({top:p+"px",left:o+"px"}),s("#popup_overlay").height(s(document).height())},_maintainPosition:function(p){if(s.alerts.repositionOnResize)switch(p){case!0:s(window).bind("resize",s.alerts._reposition);break;case!1:s(window).unbind("resize",s.alerts._reposition)}}},jAlert=function(p,o,t){v_alertView=!0,s.alerts.alert(p,o,t)},jConfirm=function(p,o,t){s.alerts.confirm(p,o,t)},jPrompt=function(p,o,t,e){s.alerts.prompt(p,o,t,e)},jCustom=function(p,o,t,e){s.alerts.manual("",o,e,p,t)}}(jQuery);