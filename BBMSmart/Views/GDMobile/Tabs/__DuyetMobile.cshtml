@using System.Data
<div class="table-responsive mt-2">

    <table class="table table-bordered table-sm">
        <thead class="table-success text-center">
            <tr>
                <th>Nhân viên</th>
                <th>Loại nghỉ</th>
                <th>Từ</th>
                <th>Đến</th>
                <th>Số giờ nghỉ</th>
                <th>Trạng thái</th>
                <th>
                    Chọn
                    <input type="checkbox" id="checkallduyet" name="check" onchange="checkallduyetnghi()" />
                </th>
            </tr>
        </thead>
        <tbody>

            @{
                if (Model != null)
                {
                    var dt = Model as DataTable;
                    if (dt.Rows.Count > 0)
                    {
                        var i = 0;
                        foreach (DataRow item in dt.Rows)
                        {
                            <tr id="row_@i">
                                <td class="text-left" style="width:65px; max-width: 65px;  overflow: hidden;white-space: nowrap" id="ngay_@i">
                                    @item["TenNV"]
                                </td>
                                <td class="text-left" style="width: 100px; max-width: 100px;  overflow: hidden;white-space: nowrap">
                                    @item["LoaiNghi"]
                                </td>
                                <td class="text-left" style="width: 100px; max-width: 100px;  overflow: hidden;white-space: nowrap">
                                    @item["NgayBD"]
                                </td>
                                <td class="text-left" style="width: 100px; max-width: 100px;  overflow: hidden;white-space: nowrap">
                                    @item["NgayKT"]
                                </td>
                                <td class="text-left" style="width: 40px; max-width: 40px;  overflow: hidden;white-space: nowrap">
                                    @item["SoGioNghi"]
                                </td>
                                <td class="text-left" style="width: 40px; max-width: 40px;  overflow: hidden;white-space: nowrap">
                                    @item["TrangThaiDuyet"]
                                </td>
                                <td class="text-left" style="width: 40px; max-width: 40px;  overflow: hidden;white-space: nowrap">
                                    @if (@item["TrangThaiDuyet"].ToString() == "Đã duyệt")
                                    {
                                        <input id="_@i" hidden type="checkbox" value="@item["TenNV"]" onchange="" />
                                    }
                                    else
                                    {
                                        <input id="_@i" name="check4[]" type="checkbox" value="@item["TenNV"]" onchange="" />
                                    }
                                </td>
                            </tr>
                            i++;
                        }
                    }
                }
            }
        </tbody>
    </table>
</div>
<script>
    function checkallduyetnghi() {
        var cboxes = document.getElementsByName('check4[]');
        for (var i = 0; i < cboxes.length; i++) {
            if ($('#checkallduyet').is(":checked")) {
                cboxes[i].checked = true;
            }
            else {
                cboxes[i].checked = false;
            }
        }
    }
</script>